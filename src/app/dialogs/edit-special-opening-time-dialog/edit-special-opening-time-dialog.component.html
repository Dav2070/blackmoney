<dav-dialog
	#dialog
	[headline]="locale.headline"
	[primaryButtonText]="actionsLocale.save"
	[defaultButtonText]="actionsLocale.cancel"
	[visible]="visible"
	maxWidth="450"
	[loading]="loading"
	(dismiss)="hide()"
	(primaryButtonClick)="submit()"
	(defaultButtonClick)="hide()"
>
	<form>
		<!-- reason -->
		<div class="dialog-formfield-container">
			<dav-textfield
				[value]="reason"
				[label]="locale.reason"
				[disabled]="loading"
				[errorMessage]="reasonError"
				(change)="reasonTextfieldChange($event)"
			></dav-textfield>
		</div>

		<div class="date-row">
			<!-- from -->
			<div class="dialog-formfield-container">
				<dav-textfield
					[value]="fromDate"
					[label]="locale.from"
					type="date"
					[disabled]="loading"
					[errorMessage]="reasonError"
					(change)="fromDatefieldChange($event)"
				></dav-textfield>
			</div>

			<!-- to -->
			<div class="dialog-formfield-container">
				<dav-textfield
					[value]="toDate"
					[label]="locale.to"
					type="date"
					[disabled]="loading"
					[errorMessage]="reasonError"
					(change)="toDatefieldChange($event)"
				></dav-textfield>
			</div>
		</div>

		<div class="radio-row">
			<dav-radio-group
				(change)="onOpeningTypeChange($any($event).detail.checked)"
			>
				<dav-radio-button
					[label]="'Durchgehend geÃ¶ffnet'"
					value="durchgehend"
					[checked]="durchgehend"
				></dav-radio-button>

				<dav-radio-button
					[label]="'Mit Pause geÃ¶ffnet'"
					value="pause"
					[checked]="pause"
				></dav-radio-button>

				<dav-radio-button
					[label]="'Geschlossen'"
					value="geschlossen"
					[checked]="geschlossen"
				></dav-radio-button>
			</dav-radio-group>
		</div>

		<!-- Durchgehend -->
		@if (durchgehend) {
			<div class="time-row">
				<dav-textfield
					[value]="startTime1"
					label="Startzeit"
					type="time"
					(change)="startTime1 = $any($event).detail.value"
				></dav-textfield>

				<dav-textfield
					[value]="endTime1"
					label="Endzeit"
					type="time"
					(change)="endTime1 = $any($event).detail.value"
				></dav-textfield>
			</div>
		}

		<!-- Pause -->
		@if (pause) {
			<div class="time-row pause-layout">
				<dav-textfield
					[value]="startTime1"
					label="Startzeit 1"
					type="time"
					(change)="startTime1 = $any($event).detail.value"
				></dav-textfield>

				<dav-textfield
					[value]="endTime1"
					label="Endzeit 1"
					type="time"
					(change)="endTime1 = $any($event).detail.value"
				></dav-textfield>

				<dav-textfield
					[value]="startTime2"
					label="Startzeit 2"
					type="time"
					(change)="startTime2 = $any($event).detail.value"
				></dav-textfield>

				<dav-textfield
					[value]="endTime2"
					label="Endzeit 2"
					type="time"
					(change)="endTime2 = $any($event).detail.value"
				></dav-textfield>
			</div>
		}
	</form>
</dav-dialog>
