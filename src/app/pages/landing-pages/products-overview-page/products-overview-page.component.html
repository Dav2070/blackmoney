<div class="page-layout">
	<div class="main-content">
		<dav-header
			backButtonVisible
			addButtonVisible
			(backButtonClick)="navigateBack()"
		(addButtonClick)="handleAddButtonClick()"
	>
		{{ category?.name || locale.headline }}
	</dav-header>

		<dav-tab-bar>
			<dav-tab-bar-item
				id="tab-food"
				[active]="activeTab === 'food'"
				(click)="selectTab('food')"
			>
				Speisen
			</dav-tab-bar-item>
			<dav-tab-bar-item
				id="tab-drinks"
				[active]="activeTab === 'drinks'"
				(click)="selectTab('drinks')"
			>
				Getr채nke
			</dav-tab-bar-item>
			<dav-tab-bar-item
				id="tab-specials"
				[active]="activeTab === 'specials'"
				(click)="selectTab('specials')"
			>
				Specials
			</dav-tab-bar-item>
			<dav-tab-bar-item
				id="tab-menus"
				[active]="activeTab === 'menus'"
				(click)="selectTab('menus')"
			>
				Men체s
			</dav-tab-bar-item>
		</dav-tab-bar>

		<!-- Men체s-Liste (wenn Tab menus aktiv) -->
		<app-offer-list
			*ngIf="activeTab === 'menus'"
		[offers]="menus"
		(editOffer)="showEditOfferDialog($event)"
		(deleteOffer)="deleteOffer($event)"
	></app-offer-list>

	<!-- Specials-Liste (wenn Tab specials aktiv) -->
	<app-offer-list
		*ngIf="activeTab === 'specials'"
		[offers]="specials"
		(editOffer)="showEditSpecialDialog($event)"
		(deleteOffer)="deleteSpecial($event)"
	></app-offer-list>

	<!-- Produkt-Liste wird hier geladen (f체r andere Tabs) -->
	<app-product-list
		*ngIf="category && activeTab !== 'menus' && activeTab !== 'specials'"
			[category]="category"
			[activeTab]="activeTab"
			(editProduct)="showEditProductDialog($event)"
		></app-product-list>
	</div>
</div>

<!-- Add Offer Dialog -->
<app-add-offer-dialog
	#addOfferDialog
	[loading]="addOfferDialogLoading"
	[availableProducts]="availableProducts"
	(primaryButtonClick)="addOfferDialogPrimaryButtonClick($event)"
></app-add-offer-dialog>

<app-add-product-dialog
	#addProductDialog
	[loading]="addProductDialogLoading"
	[nameError]="addProductDialogNameError"
	[priceError]="addProductDialogPriceError"
	[category]="category"
	[productType]="mapPathToType(activeTab)"
	[availableVariations]="availableVariations"
	(primaryButtonClick)="addProductDialogPrimaryButtonClick($any($event))"
	(clearErrors)="
		addProductDialogNameError = ''; addProductDialogPriceError = ''
	"
></app-add-product-dialog>

<app-edit-product-dialog
	#editProductDialog
	[loading]="editProductDialogLoading"
	[nameError]="editProductDialogNameError"
	[priceError]="editProductDialogPriceError"
	[availableVariations]="availableVariations"
	(primaryButtonClick)="editProductDialogPrimaryButtonClick($any($event))"
	(clearErrors)="
		editProductDialogNameError = ''; editProductDialogPriceError = ''
	"
></app-edit-product-dialog>
