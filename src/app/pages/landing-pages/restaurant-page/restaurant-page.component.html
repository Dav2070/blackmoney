<div class="container slide-up-in">
	<div class="content-container">
		<dav-header
			backButtonVisible
			editButtonVisible
			(backButtonClick)="navigateBack()"
			(editButtonClick)="showEditRestaurantNameDialog()"
		>
			{{ name }}
		</dav-header>

		<dav-card>
			<div class="address-card-container">
				<fa-icon [icon]="faLocationDot"></fa-icon>

				<div class="address-card-content">
					@if (city || country || line1 || line2 || postalCode) {
						@if (line1) {
							<p>{{ line1 }}</p>
						}
						@if (line2) {
							<p>{{ line2 }}</p>
						}
						@if (postalCode || city) {
							<p>{{ postalCode }} {{ city }}</p>
						}
						@if (country) {
							<p>{{ country === "DE" ? "Deutschland" : "" }}</p>
						}
					} @else {
						<p class="no-address">{{ locale.addAddress }}</p>
					}
				</div>

				<dav-icon-button
					size="xs"
					[tooltip]="actionsLocale.edit"
					(click)="showEditAddressDialog()"
				>
					<fa-icon [icon]="faPen"></fa-icon>
				</dav-icon-button>
			</div>
		</dav-card>

		<div class="separator"></div>

		<div class="actions-container">
			<dav-icon-card
				[text]="locale.manageRegisters"
				[href]="'/user/restaurants/' + uuid + '/registers'"
				(click)="navigateToRegistersPage($event)"
			>
				<fa-icon [icon]="faCashRegister"></fa-icon>
			</dav-icon-card>

			<dav-icon-card
				[text]="locale.managePrinters"
				[href]="'/user/restaurants/' + uuid + '/printers'"
				(click)="navigateToPrintersPage($event)"
			>
				<fa-icon [icon]="faPrint"></fa-icon>
			</dav-icon-card>

			<dav-icon-card
				[text]="locale.manageRooms"
				[href]="'/user/restaurants/' + uuid + '/rooms'"
				(click)="navigateToRoomsPage($event)"
			>
				<fa-icon [icon]="faSeat"></fa-icon>
			</dav-icon-card>
		</div>
	</div>
</div>

<app-edit-restaurant-name-dialog
	#editRestaurantNameDialog
	[loading]="editRestaurantNameDialogLoading"
	[name]="name"
	[nameError]="nameError"
	(primaryButtonClick)="editRestaurantNameDialogPrimaryButtonClick($event)"
	(clearErrors)="nameError = ''"
></app-edit-restaurant-name-dialog>

<app-edit-address-dialog
	#editAddressDialog
	[loading]="editAddressDialogLoading"
	[city]="city"
	[cityError]="cityError"
	[line1]="line1"
	[line1Error]="line1Error"
	[line2]="line2"
	[line2Error]="line2Error"
	[postalCode]="postalCode"
	[postalCodeError]="postalCodeError"
	(primaryButtonClick)="editAddressDialogPrimaryButtonClick($event)"
	(clearErrors)="
		cityError = ''; line1Error = ''; line2Error = ''; postalCodeError = ''
	"
></app-edit-address-dialog>
